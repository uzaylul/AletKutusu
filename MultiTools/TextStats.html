<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Metin İstatistikleri Aracı</title>
<style>
  /* Koyu mod renkleri ve genel stil */
  body {
    background-color: #121212;
    color: #e0e0e0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0; padding: 0;
    display: flex; flex-direction: column;
    min-height: 100vh;
  }
  header {
    background-color: #1f1f1f;
    padding: 20px;
    text-align: center;
    font-size: 1.8rem;
    font-weight: 700;
    letter-spacing: 1.2px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.7);
  }
  main {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    max-width: 700px;
    margin: 40px auto;
    padding: 0 20px;
  }
  textarea {
    background-color: #1e1e1e;
    border: 1px solid #444;
    border-radius: 6px;
    color: #eee;
    font-size: 1.1rem;
    padding: 15px;
    min-height: 180px;
    resize: vertical;
    transition: border-color 0.3s;
  }
  textarea:focus {
    outline: none;
    border-color: #4caf50;
  }
  button {
    background-color: #4caf50;
    border: none;
    border-radius: 6px;
    color: #121212;
    font-weight: 700;
    font-size: 1.1rem;
    margin-top: 20px;
    padding: 12px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  button:hover {
    background-color: #388e3c;
  }
  .results {
    margin-top: 30px;
    background-color: #222;
    border-radius: 8px;
    padding: 20px;
    box-shadow: inset 0 0 10px #333;
  }
  .result-item {
    margin-bottom: 15px;
  }
  .result-item strong {
    color: #81c784;
  }
  .freq-list {
    margin-top: 10px;
    max-height: 200px;
    overflow-y: auto;
    border-top: 1px solid #444;
    padding-top: 10px;
  }
  .freq-list li {
    margin-bottom: 6px;
    font-size: 1rem;
  }
  footer {
    text-align: center;
    padding: 15px 0;
    font-size: 0.9rem;
    color: #666;
  }
  @media (max-width: 480px) {
    main {
      margin: 20px 10px;
    }
    textarea {
      min-height: 140px;
    }
  }
</style>
</head>
<body>
  <header>Metin İstatistikleri Aracı</header>
  <main>
    <textarea id="inputText" placeholder="Buraya metninizi yazın veya yapıştırın..."></textarea>
    <button id="analyzeBtn">Analiz Et</button>
    <section class="results" id="results" style="display:none;">
      <div class="result-item"><strong>Kelime Sayısı:</strong> <span id="wordCount">0</span></div>
      <div class="result-item"><strong>Karakter Sayısı (Boşluksuz):</strong> <span id="charCountNoSpaces">0</span></div>
      <div class="result-item"><strong>Karakter Sayısı (Boşluklu):</strong> <span id="charCountWithSpaces">0</span></div>
      <div class="result-item">
        <strong>En Sık Geçen Kelimeler:</strong>
        <ul class="freq-list" id="freqList"></ul>
      </div>
    </section>
  </main>
  <footer>
    &copy; 2025 Onur Çelik - Gelişmiş Metin Analizi
  </footer>

<script>
  const analyzeBtn = document.getElementById('analyzeBtn');
  const inputText = document.getElementById('inputText');
  const results = document.getElementById('results');
  const wordCountEl = document.getElementById('wordCount');
  const charCountNoSpacesEl = document.getElementById('charCountNoSpaces');
  const charCountWithSpacesEl = document.getElementById('charCountWithSpaces');
  const freqListEl = document.getElementById('freqList');

  function analyzeText(text) {
    // Boşluk ve satır sonları temizleniyor, Türkçe karakterlere uygun \w yerine Unicode destekli regex kullanılıyor
    const words = text.toLowerCase()
                      .match(/[\p{L}\p{N}]+/gu) || [];

    const wordCount = words.length;
    const charCountWithSpaces = text.length;
    const charCountNoSpaces = text.replace(/\s/g, '').length;

    // Kelime frekans analizi
    const freqMap = new Map();
    for (const w of words) {
      freqMap.set(w, (freqMap.get(w) || 0) + 1);
    }

    // En sık geçen kelimeleri sıralama (ilk 10)
    const sortedFreq = [...freqMap.entries()]
                      .sort((a,b) => b[1] - a[1])
                      .slice(0, 10);

    return { wordCount, charCountWithSpaces, charCountNoSpaces, sortedFreq };
  }

  analyzeBtn.addEventListener('click', () => {
    const text = inputText.value.trim();
    if (!text) {
      alert('Lütfen analiz etmek için metin girin.');
      results.style.display = 'none';
      return;
    }

    const { wordCount, charCountWithSpaces, charCountNoSpaces, sortedFreq } = analyzeText(text);

    wordCountEl.textContent = wordCount;
    charCountWithSpacesEl.textContent = charCountWithSpaces;
    charCountNoSpacesEl.textContent = charCountNoSpaces;

    freqListEl.innerHTML = '';
    if (sortedFreq.length === 0) {
      freqListEl.innerHTML = '<li>Kelime bulunamadı.</li>';
    } else {
      for (const [word, count] of sortedFreq) {
        freqListEl.innerHTML += `<li>${word} - <strong>${count}</strong> kez</li>`;
      }
    }

    results.style.display = 'block';
  });
</script>
</body>
</html>
